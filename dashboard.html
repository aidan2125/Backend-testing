<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Travique | Dashboard</title>
    <link rel="stylesheet" href="css/dashboard.css" />
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=Outfit:wght@300;400;500;600;700;800;900&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    />
  </head>
  <body>
    <!-- Modern Header -->
    <header class="dashboard-header">
      <div class="header-content">
        <div class="logo-section">
          <h1 class="logo-text">Travique</h1>
          <span class="dashboard-subtitle">Your Travel Command Center</span>
        </div>

        <div class="header-actions">
          <div class="user-profile">
            <div class="user-avatar">
              <i class="fas fa-user"></i>
            </div>
            <span class="user-name" id="user-email">Loading...</span>
          </div>
          <button class="menu-toggle" id="menu-toggle">
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
            <span class="hamburger-line"></span>
          </button>
        </div>
      </div>
    </header>

    <!-- Modern Sidebar -->
    <nav class="sidebar" id="sidebar">
      <div class="sidebar-header">
        <h3>Navigation</h3>
        <button class="close-sidebar" id="close-sidebar">
          <i class="fas fa-times"></i>
        </button>
      </div>

      <ul class="nav-menu">
        <li class="nav-item">
          <a href="profile.html" class="nav-link">
            <div class="nav-icon orange-theme">
              <i class="fas fa-user"></i>
            </div>
            <span>User Profile</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="trip-planner.html" class="nav-link">
            <div class="nav-icon blue-theme">
              <i class="fas fa-map-marked-alt"></i>
            </div>
            <span>Trip Planner</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="expenses.html" class="nav-link">
            <div class="nav-icon orange-theme">
              <i class="fas fa-wallet"></i>
            </div>
            <span>Expense Tracker</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="health.html" class="nav-link">
            <div class="nav-icon blue-theme">
              <i class="fas fa-heartbeat"></i>
            </div>
            <span>Health & Fitness</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="tips.html" class="nav-link">
            <div class="nav-icon orange-theme">
              <i class="fas fa-lightbulb"></i>
            </div>
            <span>Smart Travel Tips</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="food.html" class="nav-link">
            <div class="nav-icon blue-theme">
              <i class="fas fa-utensils"></i>
            </div>
            <span>Food Finder</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="weather.html" class="nav-link">
            <div class="nav-icon orange-theme">
              <i class="fas fa-cloud-sun"></i>
            </div>
            <span>Weather</span>
          </a>
        </li>
        <li class="nav-item">
          <a href="saved_trips.html" class="nav-link">
            <div class="nav-icon blue-theme">
              <i class="fas fa-bookmark"></i>
            </div>
            <span>Saved Trips</span>
          </a>
        </li>
      </ul>

      <div class="sidebar-footer">
        <button class="logout-btn" id="logout-btn">
          <i class="fas fa-sign-out-alt"></i>
          <span>Logout</span>
        </button>
      </div>
    </nav>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebar-overlay"></div>

    <!-- Main Dashboard Content -->
    <main class="dashboard-main">
      <div class="dashboard-container">
        <!-- Dashboard Header Section -->
        <section class="dashboard-welcome">
          <div class="welcome-content">
            <h2 class="welcome-title">Welcome back, Traveler!</h2>
            <p class="welcome-subtitle">
              Ready for your next adventure? Let's explore the world together.
            </p>
          </div>
          <div class="welcome-illustration">
            <div class="floating-element blue-glow"></div>
            <div class="floating-element orange-glow"></div>
          </div>
        </section>

        <!-- Quick Actions Section -->
        <section class="quick-actions">
          <h3 class="section-title">Quick Actions</h3>
          <div class="actions-grid">
            <div
              class="action-card trip-planning"
              data-aos="fade-up"
              data-delay="100"
            >
              <div class="action-icon">
                <span class="card-emoji">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M21 16v-2l-8-5V3.5c0-.83-.67-1.5-1.5-1.5S10 2.67 10 3.5V9l-8 5v2l8-2.5V19l-2 1.5V22l3.5-1 3.5 1v-1.5L13 19v-5.5l8 2.5z"
                    />
                  </svg>
                </span>
                <i class="fas fa-plus"></i>
              </div>
              <h4>Plan New Trip</h4>
              <p>Start planning your next adventure</p>
              <a href="trip-planner.html" class="action-btn">Start Planning</a>
            </div>

            <div
              class="action-card expense-tracking"
              data-aos="fade-up"
              data-delay="200"
            >
              <div class="action-icon">
                <span class="card-emoji">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1.41 16.09V20h-2.67v-1.93c-1.71-.36-3.16-1.46-3.27-3.4h1.96c.1 1.05.82 1.87 2.65 1.87 1.96 0 2.4-.98 2.4-1.59 0-.83-.44-1.61-2.67-2.14-2.48-.6-4.18-1.62-4.18-3.67 0-1.72 1.39-2.84 3.11-3.21V4h2.67v1.95c1.86.45 2.79 1.86 2.85 3.39H14.3c-.05-1.11-.64-1.87-2.22-1.87-1.5 0-2.4.68-2.4 1.64 0 .84.65 1.39 2.67 1.91s4.18 1.39 4.18 3.91c-.01 1.83-1.38 2.83-3.12 3.16z"
                    />
                  </svg>
                </span>
                <i class="fas fa-chart-line"></i>
              </div>
              <h4>Track Expenses</h4>
              <p>Monitor your travel budget</p>
              <a href="expenses.html" class="action-btn">View Expenses</a>
            </div>

            <div
              class="action-card health-check"
              data-aos="fade-up"
              data-delay="300"
            >
              <div class="action-icon">
                <span class="card-emoji">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"
                    />
                    <path d="M9 11H7v2h2v2h2v-2h2v-2h-2V9H9v2z" />
                  </svg>
                </span>
                <i class="fas fa-heart"></i>
              </div>
              <h4>Health Check</h4>
              <p>Stay healthy while traveling</p>
              <a href="health.html" class="action-btn">Health Tips</a>
            </div>

            <div
              class="action-card weather-update"
              data-aos="fade-up"
              data-delay="400"
            >
              <div class="action-icon">
                <span class="card-emoji">
                  <svg viewBox="0 0 24 24" fill="currentColor">
                    <path
                      d="M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z"
                    />
                  </svg>
                </span>
                <i class="fas fa-cloud-sun"></i>
              </div>
              <h4>Weather Update</h4>
              <p>Check weather conditions</p>
              <a href="weather.html" class="action-btn">View Weather</a>
            </div>
          </div>
        </section>

        <!-- Travel Statistics Section -->
        <section class="travel-stats">
          <h3 class="section-title">Your Travel Journey</h3>
          <div class="stats-grid">
            <div class="stat-card" data-aos="fade-up" data-delay="100">
              <div class="stat-icon orange-theme">
                <i class="fas fa-globe-americas"></i>
              </div>
              <div class="stat-content">
                <h4 class="stat-number">12</h4>
                <p class="stat-label">Countries Visited</p>
              </div>
            </div>

            <div class="stat-card" data-aos="fade-up" data-delay="200">
              <div class="stat-icon blue-theme">
                <i class="fas fa-map-marker-alt"></i>
              </div>
              <div class="stat-content">
                <h4 class="stat-number">47</h4>
                <p class="stat-label">Cities Explored</p>
              </div>
            </div>

            <div class="stat-card" data-aos="fade-up" data-delay="300">
              <div class="stat-icon orange-theme">
                <i class="fas fa-calendar-check"></i>
              </div>
              <div class="stat-content">
                <h4 class="stat-number">89</h4>
                <p class="stat-label">Days Traveled</p>
              </div>
            </div>

            <div class="stat-card" data-aos="fade-up" data-delay="400">
              <div class="stat-icon blue-theme">
                <i class="fas fa-camera"></i>
              </div>
              <div class="stat-content">
                <h4 class="stat-number">1.2k</h4>
                <p class="stat-label">Memories Captured</p>
              </div>
            </div>
          </div>
        </section>

        <!-- Popular Destinations -->
        <section class="destinations">
          <div class="destinations-header">
            <h3 class="section-title">Explore South Africa</h3>
            <div class="destination-tabs">
              <button class="tab-btn active" data-tab="cape-town">
                Cape Town
              </button>
              <button class="tab-btn" data-tab="johannesburg">
                Johannesburg
              </button>
              <button class="tab-btn" data-tab="mpumalanga">Mpumalanga</button>
              <button class="tab-btn" data-tab="durban">Durban</button>
            </div>
          </div>

          <!-- Cape Town -->
          <div class="destination-content active" id="cape-town">
            <div class="destination-intro">
              <h4>Discover Cape Town</h4>
              <p>
                Explore the Mother City's most breathtaking attractions and
                experiences.
              </p>
            </div>

            <div class="places-grid">
              <div class="place-card" data-aos="fade-up">
                <div class="place-images">
                  <img
                    src="Images/Waterfront.jpg"
                    alt="V & A Waterfront"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Waterfront.2.jpg" alt="V & A Waterfront" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>V & A Waterfront</h5>
                  <p>
                    A vibrant hub of shopping, dining, and entertainment with
                    stunning harbor views.
                  </p>
                  <ul class="place-highlights">
                    <li>450+ shops and 80 restaurants</li>
                    <li>Two Oceans Aquarium</li>
                    <li>Zeitz Museum of Contemporary African Art</li>
                    <li>Cape Wheel for panoramic views</li>
                  </ul>
                  <a
                    href="https://www.waterfront.co.za/"
                    target="_blank"
                    class="place-btn orange-theme"
                    >Explore More</a
                  >
                </div>
              </div>

              <div class="place-card" data-aos="fade-up" data-delay="200">
                <div class="place-images">
                  <img
                    src="Images/Table-Mountain.jpg"
                    alt="Table Mountain"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Mountain.jpg" alt="Table Mountain" />
                    <img src="Images/Mountain.2.jpg" alt="Table Mountain" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>Table Mountain</h5>
                  <p>
                    Iconic flat-topped mountain offering breathtaking 360-degree
                    views of Cape Town.
                  </p>
                  <ul class="place-highlights">
                    <li>Rotating cable car experience</li>
                    <li>Hiking trails for all levels</li>
                    <li>Wildlife and unique flora</li>
                    <li>World-class abseiling</li>
                  </ul>
                  <a
                    href="https://www.tablemountain.net/"
                    target="_blank"
                    class="place-btn blue-theme"
                    >Explore More</a
                  >
                </div>
              </div>
            </div>
          </div>

          <!-- Johannesburg -->
          <div
            class="destination-content"
            id="johannesburg"
            style="display: none"
          >
            <div class="destination-intro">
              <h4>Discover Johannesburg</h4>
              <p>
                Experience the vibrant energy of South Africa's largest city and
                economic hub.
              </p>
            </div>

            <div class="places-grid">
              <div class="place-card" data-aos="fade-up">
                <div class="place-images">
                  <img
                    src="Images/Gold-reef-city.webp"
                    alt="Gold Reef City"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Fun.jpg" alt="Fun Activities" />
                    <img src="Images/Fun.2.webp" alt="More Fun" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>Gold Reef City</h5>
                  <p>
                    A thrilling theme park built on an old gold mine, offering
                    entertainment and history.
                  </p>
                  <ul class="place-highlights">
                    <li>
                      Exciting theme park rides like Anaconda and Tower of
                      Terror
                    </li>
                    <li>
                      Underground mine tours with gold pouring demonstrations
                    </li>
                    <li>Trampoline park, laser tag, and arcade games</li>
                    <li>Victorian-themed cinema and live shows</li>
                  </ul>
                  <a
                    href="https://www.goldreefcity.co.za/hotels/"
                    target="_blank"
                    class="place-btn orange-theme"
                    >Explore More</a
                  >
                </div>
              </div>

              <div class="place-card" data-aos="fade-up" data-delay="200">
                <div class="place-images">
                  <img
                    src="Images/Sun-City.jpg"
                    alt="Sun City Resort"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Sun-City.2.jpg" alt="Sun City" />
                    <img src="Images/Sun-City.3.jpg" alt="Sun City Resort" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>Sun City Resort</h5>
                  <p>
                    A luxurious resort and entertainment complex known as
                    Africa's Las Vegas.
                  </p>
                  <ul class="place-highlights">
                    <li>Valley of Waves water park with artificial beach</li>
                    <li>Big 5 safari in nearby Pilanesberg Game Reserve</li>
                    <li>World-class golf courses and adventure activities</li>
                    <li>Maze of the Lost City and luxury spas</li>
                  </ul>
                  <a
                    href="https://www.suninternational.com/sun-city/"
                    target="_blank"
                    class="place-btn blue-theme"
                    >Explore More</a
                  >
                </div>
              </div>
            </div>
          </div>

          <div
            class="destination-content"
            id="mpumalanga"
            style="display: none"
          >
            <div class="destination-intro">
              <h4>Discover Mpumalanga</h4>
              <p>
                Explore the breathtaking landscapes and wildlife of this
                beautiful province.
              </p>
            </div>

            <div class="places-grid">
              <div class="place-card" data-aos="fade-up">
                <div class="place-images">
                  <img
                    src="Images/Park.1.jpg"
                    alt="Kruger National Park"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Park.2.jpg" alt="Kruger Wildlife" />
                    <img src="Images/Park.3.jpg" alt="Safari Experience" />
                    <img src="Images/Park.4.jpeg" alt="Big Five" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>Kruger National Park</h5>
                  <p>
                    One of Africa's largest game reserves, home to the iconic
                    Big 5 and incredible wildlife.
                  </p>
                  <ul class="place-highlights">
                    <li>
                      Big 5 safari experiences (lion, leopard, elephant, rhino,
                      buffalo)
                    </li>
                    <li>Self-drive and guided game drives available</li>
                    <li>Bush walks for close-up wildlife encounters</li>
                    <li>Over 500 bird species and night drive experiences</li>
                  </ul>
                  <a
                    href="https://www.krugerpark.co.za/"
                    target="_blank"
                    class="place-btn orange-theme"
                    >Explore More</a
                  >
                </div>
              </div>

              <div class="place-card" data-aos="fade-up" data-delay="200">
                <div class="place-images">
                  <img
                    src="Images/Falls.1.jpg"
                    alt="Mac Mac Falls"
                    class="main-image"
                  />
                  <div class="image-gallery">
                    <img src="Images/Falls.2.jpg" alt="Waterfall View" />
                    <img src="Images/Falls.3.jpg" alt="Natural Pools" />
                  </div>
                </div>
                <div class="place-content">
                  <h5>Mac Mac Falls</h5>
                  <p>
                    Spectacular 65-meter twin waterfalls offering pristine
                    natural beauty and adventure.
                  </p>
                  <ul class="place-highlights">
                    <li>Stunning 65-meter-high twin waterfall formation</li>
                    <li>Natural rock pools perfect for swimming</li>
                    <li>Secretary Bird Trail for hiking and birdwatching</li>
                    <li>Canyoning adventures and scenic picnic areas</li>
                  </ul>
                  <a
                    href="https://www.sa-venues.com/attractionsmpl/mac-mac-falls.php"
                    target="_blank"
                    class="place-btn blue-theme"
                    >Explore More</a
                  >
                </div>
              </div>
            </div>
          </div>

          <div class="destination-content" id="durban" style="display: none">
            <div class="destination-intro">
              <h4>Discover Durban</h4>
              <p>
                Enjoy the golden beaches and rich cultural heritage of the east
                coast.
              </p>
            </div>
          </div>
        </section>
      </div>
    </main>

    <!-- Modern Footer -->
    <footer class="dashboard-footer">
      <div class="footer-content">
        <p>&copy; 2025 Travique. All rights reserved.</p>
        <div class="footer-links">
          <a href="javascript:void(0)" class="footer-link">Privacy</a>
          <a href="javascript:void(0)" class="footer-link">Terms</a>
          <a href="javascript:void(0)" class="footer-link">Support</a>
        </div>
      </div>
    </footer>

    <!-- JavaScript -->
    <script>
      // Mobile menu toggle
      const menuToggle = document.getElementById("menu-toggle");
      const sidebar = document.getElementById("sidebar");
      const sidebarOverlay = document.getElementById("sidebar-overlay");
      const closeSidebar = document.getElementById("close-sidebar");

      function toggleSidebar() {
        sidebar.classList.toggle("active");
        sidebarOverlay.classList.toggle("active");
        menuToggle.classList.toggle("active");
        document.body.classList.toggle("sidebar-open");
      }

      function closeSidebarMenu() {
        sidebar.classList.remove("active");
        sidebarOverlay.classList.remove("active");
        menuToggle.classList.remove("active");
        document.body.classList.remove("sidebar-open");
      }

      menuToggle.addEventListener("click", toggleSidebar);
      sidebarOverlay.addEventListener("click", closeSidebarMenu);
      closeSidebar.addEventListener("click", closeSidebarMenu);

      // Destination tabs
      const tabBtns = document.querySelectorAll(".tab-btn");
      const destinationContents = document.querySelectorAll(
        ".destination-content",
      );

      tabBtns.forEach((btn) => {
        btn.addEventListener("click", () => {
          const targetTab = btn.getAttribute("data-tab");

          // Remove active class from all tabs and contents
          tabBtns.forEach((tab) => tab.classList.remove("active"));
          destinationContents.forEach((content) => {
            content.classList.remove("active");
            content.style.display = "none";
          });

          // Add active class to clicked tab and corresponding content
          btn.classList.add("active");
          const targetContent = document.getElementById(targetTab);
          if (targetContent) {
            targetContent.classList.add("active");
            targetContent.style.display = "block";
          }
        });
      });

      // Animation on scroll
      const observerOptions = {
        threshold: 0.1,
        rootMargin: "0px 0px -50px 0px",
      };

      const observer = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add("animate");
          }
        });
      }, observerOptions);

      // Observe elements with data-aos attribute
      document.querySelectorAll("[data-aos]").forEach((el) => {
        observer.observe(el);
      });

      // Counter animation for stats
      function animateCounters() {
        const counters = document.querySelectorAll(".stat-number");

        counters.forEach((counter) => {
          const target = parseFloat(counter.textContent);
          const increment = target / 50;
          let current = 0;

          const timer = setInterval(() => {
            current += increment;
            if (current >= target) {
              current = target;
              clearInterval(timer);
            }

            if (counter.textContent.includes("k")) {
              counter.textContent = (current / 1000).toFixed(1) + "k";
            } else {
              counter.textContent = Math.floor(current);
            }
          }, 30);
        });
      }

      // Start counter animation when stats section is visible
      const statsSection = document.querySelector(".travel-stats");
      const statsObserver = new IntersectionObserver((entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            animateCounters();
            statsObserver.unobserve(entry.target);
          }
        });
      });

      if (statsSection) {
        statsObserver.observe(statsSection);
      }

      // Comprehensive error prevention for querySelector issues

      // Override querySelector to prevent invalid selector errors
      const originalQuerySelector = Document.prototype.querySelector;
      Document.prototype.querySelector = function (selector) {
        if (!selector || selector === "#" || selector === "") {
          console.warn("Invalid selector prevented:", selector);
          return null;
        }
        try {
          return originalQuerySelector.call(this, selector);
        } catch (error) {
          console.warn("querySelector error prevented:", selector, error);
          return null;
        }
      };

      // Global click handler to prevent anchor link errors
      document.addEventListener(
        "click",
        function (e) {
          // Handle all anchor elements
          let target = e.target;
          while (target && target.tagName !== "A") {
            target = target.parentElement;
          }

          if (target && target.tagName === "A") {
            const href = target.getAttribute("href");

            // Prevent errors from invalid selectors
            if (href === "#" || href === "" || !href) {
              e.preventDefault();
              e.stopPropagation();
              return false;
            }

            // Handle anchor links safely
            if (href && href.startsWith("#") && href.length > 1) {
              e.preventDefault();
              e.stopPropagation();

              try {
                const targetElement = document.querySelector(href);
                if (targetElement) {
                  targetElement.scrollIntoView({
                    behavior: "smooth",
                    block: "start",
                  });
                }
              } catch (error) {
                console.warn("Invalid selector:", href, error);
              }
              return false;
            }
          }
        },
        true,
      ); // Use capture phase to catch early

      // Additional protection for any existing code that might be running
      window.addEventListener("error", function (e) {
        if (e.message && e.message.includes("not a valid selector")) {
          console.warn("Selector error caught and prevented:", e);
          e.preventDefault();
          return true;
        }
      });
    </script>

    <script type="module" src="js/dashboard.js"></script>
  </body>
</html>
